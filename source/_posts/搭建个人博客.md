---
title: 搭建个人博客
date: 2023-07-05 09:09:38
categories: 
- 博客搭建
---
# 背景
繁忙于工作，很久没有花时间自己动手弄些小玩具。想要搭建一个博客，记录和分享自己学习的内容、自己生活中所思所想、一些有趣的东西。
<!-- more -->
# 目标
1. 购买云服务，部署 hexo
2. 购买域名，完成解析
3. 学习 hexo 发布博客，成功发布一篇博客
# 过程
## 购买云服务器
选择了在腾讯云购买服务器~~(腾讯云有新用户优惠)~~，以168元一年的价格，购买了2核4G的服务器，完全能够支撑起博客网站，后续也可以拿来部署其它东西。
[腾讯云-轻量应用服务器](https://cloud.tencent.com/product/lighthouse)
服务器系统选择了 Ubuntu 20.04 TLS，在平台配置了登录密码后，便在本地用ssh登录了
``` shell
#本地登录新购买的服务器
ssh ubuntu@xx.xx.xx.xx
```
## 搭建 hexo 博客
先安装依赖：Git, NodeJS
``` shell
sudo apt-get update; sudo apt-get upgrade; sudo apt-get install apt # 更新依赖
sudo apt install git

# Hexo 官方推荐安装最新版本的 NodeJS
# 安装 nodejs 有多种方式，这里通过包管理工具安装
curl -sL https://deb.nodesource.com/setup_13.x | sudo -E bash -
sudo apt-get install -y nodejs
node -v # 查看是否安装成功
```
装好依赖后，开始安装 Hexo
``` shell
sudo npm install -g hexo-cli
hexo v # 查看是否安装成功
hexo init my_blog # 后者为博客本地目录，可以更改
cd my_blog/
npm install # 更新依赖

hexo server # 启动Hexo，通过 http://your_ip.cn:4000 可以查看默认页面
```
> hexo server 命令运行后，如果想通过 4000 端口查看主页，需要在平台上打开服务器防火墙的4000端口

下面是主页图片[烟花]
<img title="hexo主页" src="/images/hexo123.PNG" width= 75%>
## 购买域名
可以直接在腾讯云购买域名，域名后缀推荐 .com, .top, .club。一般都是选择一个便宜一点的(9元每年)。
因为服务器在国内，域名需要经过备案审核。这个过程比较冗长，但是各个平台流程提示挺详细的，按照提示完成就好。目前国内个人备案，名称不允许出现博客、评论之类字眼，需要注意。
>之前我备案过一个域名，名称出现了"博客"，平台初审时会电话过来让修改，问题不大。

2023-06-24 提交腾讯云备案审核
2023-06-26 视频审核不合格，重新提交审核
2023-06-27 提交管局审核
2023-07-11 管局审核通过
2023-07-16 提交公安审核
2023-07-16 悬挂网站备案号
2023-07-17 通过公安审核
2023-07-18 悬挂公安备案号
## 上传一篇博客
Hexo 支持不同的渲染引擎。个人习惯使用 markdown 进行写作。
``` shell
hexo new xxx # 初始化一篇博客
vim xxx # 编写这篇博客
```
个人试了这种编写方式，感觉不是很方便，缺乏预览功能。后续考虑在本地搭建 Hexo，本地编写好后进行预览，然后上传到 服务器上。不过现在也能用吧，不是吗？
# 结束
到此为止，一个博客网站就搭建好了。过程中遇到了一些小麻烦，比如 nodejs 的安装有多种方式，域名备案~~(还没有备案成功）~~。后续也考虑加上一键部署， https 访问，更换主题等能力。
相比于部署博客网站，记录下整个过程倒是让我更在意。输出文字和输入知识一样重要，输出的内容不仅让整个过程更加清晰，自己更加熟悉这个流程，也为未来做了一些沉淀。
# 参考文档
[Hexo 文档](https://hexo.io/zh-cn/docs/)
Nodejs 安装参考：[Ubuntu 安装 Node.js 的正确姿势](https://mupceet.com/2020/02/the-best-way-to-install-nodejs/)
[Hexo 写作](https://hexo.io/zh-cn/docs/writing) 